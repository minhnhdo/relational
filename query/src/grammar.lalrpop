use crate::ast::Literal;
use crate::ast::string::parse_sql_string;
use lalrpop_util::ParseError;

grammar;

SingleString: String = {
    "'" <s:r"(''|[^'])*"> "'" =>? parse_sql_string(s)
        .map_err(|e| ParseError::User {
            error: e.message(),
        }),
};

pub String: Literal = {
    <s:SingleString+> => Literal::String(s.into_iter().collect()),
}
